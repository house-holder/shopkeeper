// core logic, atomic funcs, types
